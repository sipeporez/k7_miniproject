package com.subway.persistence;

import java.util.Date;
import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import com.subway.domain.StationDTO;

public interface StationRepository extends JpaRepository<StationDTO, Integer> {

	@Query(value = "SELECT sl.station_name, pc.date, "
			+ "hour_01_02, hour_02_03, hour_03_04, hour_04_05, hour_05_06, hour_06_07, hour_07_08, hour_08_09, hour_09_10, hour_10_11, hour_11_12, hour_12_13, hour_13_14, hour_14_15, hour_15_16, hour_16_17, hour_17_18, hour_18_19, hour_19_20, hour_20_21, hour_21_22, hour_22_23, hour_23_24, hour_24_01 "
			+ "FROM passenger_count pc, station_list sl "
			+ "where pc.station_no = sl.station_no and pc.station_no = :station_no and pc.date = ':date'", nativeQuery = true)
	List<StationDTO> getStationData(@Param(value = "station_no") int station_no, @Param(value = "date") Date date);

}
